<!DOCTYPE html>
<html>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>FEC BANK</title>

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="font-awesome/css/font-awesome.css" rel="stylesheet">

<!-- Toastr style -->
<link href="css/plugins/toastr/toastr.min.css" rel="stylesheet">

<!-- Gritter -->
<link href="js/plugins/gritter/jquery.gritter.css" rel="stylesheet">

<link href="css/animate.css" rel="stylesheet">
<link href="css/style.css" rel="stylesheet">

<!-- select menue -->
<link href="css/plugins/select2/select2.min.css" rel="stylesheet">

<link href="css/plugins/datapicker/datepicker3.css" rel="stylesheet">


<body {{if .UserData.NavColaps}} class='mini-navbar' {{end}}>

<div id="wrapper">
    {{ template "navbar_left" .UserData}}

    <div id="page-wrapper" class="gray-bg dashbard-1">
        {{ template "navbar_top" }}

        <div class="row wrapper border-bottom white-bg page-heading">
            <div class="col-sm-10">
                <h2>Members</h2>
                <ol class="breadcrumb">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li class="active">
                        <strong>Members</strong>
                    </li>
                </ol>
            </div>
            <div class="col-sm-2 align-middle">
                <br><br>
                <a data-toggle="modal" href="#newMember" class="btn-primary btn"><i class="fa fa-plus"></i> New Member</a>
            </div>
        </div>

        <div class="wrapper wrapper-content  animated fadeInRight">
            <div class="row">
                <div class="col-sm-8">
                    <div class="ibox">
                        <div class="ibox-content">

                            <table class="table table-striped table-bordered table-hover " id="editable" >
                                <thead>
                                <tr>
                                    <th></th>
                                    <th>Name</th>
                                    <th>Customer Code</th>
                                    <th>Position</th>
                                    <th>Status</th>
                                    <th>Telephone</th>
                                    <th>Member</th>
                                </tr>
                                </thead>
                                <tbody>
                                {{range .Data.Members}}
                                <tr class="gradeX">
                                    <td class="client-avatar"><img alt="image" src="{{.Image}}">
                                    </td>
                                    <td>
                                        <a data-toggle="tab" href="#member-{{.Id}}" class="client-link">
                                            {{.Name}}
                                        </a>
                                    </td>
                                    <td>{{.Id}}</td>
                                    <td>{{.Typ}}</td>
                                    <td>{{.Status}}</td>
                                    <td>{{.Tel}}</td>
                                    <td class="client-status">
                                        {{if .Act}}
                                        <span class="label label-primary"> Active </span>
                                        {{else}}
                                        <span class="label ">Inactive</span>
                                        {{end}}

                                    </td>
                                </tr>
                                {{end}}
                                </tbody>

                            </table>


                        </div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="ibox ">

                        <div class="ibox-content">
                            <div class="tab-content">
                                {{range .Data.Members}}

                                <div id="member-{{.Id}}" class="tab-pane  {{if .ActPan}}active{{end}}">
                                    <div class="row m-b-lg">
                                        <div class="col-lg-4 text-center">
                                            <h2>{{.Name}}</h2>

                                            <div class="m-b-sm">
                                                <img alt="image" class="img-circle" src="{{.Image}}"
                                                     style="width: 62px">
                                            </div>
                                            <h4>{{.Typ}}</h4>
                                        </div>

                                        <div class="col-lg-8">
                                            <strong>
                                                About
                                            </strong>

                                            <p>
                                                <i class="fa fa-phone"> </i>: {{.Tel}}
                                                <br>
                                                <i class="fa fa-at"> </i>: {{.Email}}
                                                <br>
                                                <i class="fa fa-envelope"> </i>: {{.Adrs}}
                                                <br>
                                                NIC: {{.Nic}}
                                                <br>
                                                DOB:{{.Dob}} Age:{{.Age}}

                                            </p>
                                        </div>
                                        <div class="pull-right">
                                            <a data-toggle="modal" href="#editMember{{.Id}}" class="btn-warning btn btn-xs">Edit details</a>
                                        </div>
                                        <div>
                                            <strong>
                                                Note
                                            </strong>

                                            <p>
                                                {{.Note}}
                                            </p>
                                        </div>

                                    </div>
                                    <div class="client-detail">
                                        <div class="full-height-scroll">


                                            <div class="ibox">
                                                <div class="ibox-content">
                                                    <h4>Tot. savings/ Tot. loans 15000/5000</h4>

                                                    <div id="pi{{.Id}}" class="col-lg-7"></div>

                                                    <div class="col-lg-5">
                                                        <a href="loans.html" class="btn btn-info btn-xs btn-rounded">View
                                                            Loans</a>
                                                        <h5></h5>
                                                        <a href="accounts.html" class="btn btn-info btn-xs btn-rounded">View
                                                            Accounts</a>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="ibox">
                                            </div>
                                            <strong>Last activity</strong>

                                            <ul class="list-group clear-list">
                                                <li class="list-group-item fist-item">
                                                    <span class="pull-right"> 09:00 pm </span>
                                                    Please contact me
                                                </li>
                                                <li class="list-group-item">
                                                    <span class="pull-right"> 10:16 am </span>
                                                    Sign a contract
                                                </li>
                                                <li class="list-group-item">
                                                    <span class="pull-right"> 08:22 pm </span>
                                                    Open new shop
                                                </li>
                                                <li class="list-group-item">
                                                    <span class="pull-right"> 11:06 pm </span>
                                                    Call back to Sylvia
                                                </li>
                                                <li class="list-group-item">
                                                    <span class="pull-right"> 12:00 am </span>
                                                    Write a letter to Sandra
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                {{end}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        {{ template "footer" }}

    </div>

    <div id="newMember" class="modal fade" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="row">
                        <form role="form" method="post" enctype="multipart/form-data" action="/newMember.html" method="post">

                            <div class="col-sm-4 b-r">
                                <div class="form-group"><label>ID</label> <input readonly name="id" class="form-control" value="{{.Data.NextId}}"></div>

                                <label>Preview Image</label>
                                <input type='file' id="imgInpNewMem"  accept="image/*" name="uploadfile" />
                                <br>
                                <img id="imgPrvNewMem" src="./users/u-1.jpg" style="width: 150px; height: 150px;"/>
                                <br>

                                <label>Note</label>
                                <br>
                                <textarea name="note" style="width: 250px; height: 80px;"></textarea>

                            </div>

                            <div class="col-sm-4 b-r">

                                <div class="form-group"><label>Name</label> <input type="text" placeholder="Enter name" class="form-control" name="name" required></div>

                                <div class="form-group"><label>Position</label>
                                    <select class="select2_demo_3 form-control" style="width: 260px;" name="userType_id">
                                        {{range .Data.MemberTypes}}
                                        <option value="{{.Id}}">{{.Typ}}</option>
                                        {{end}}
                                    </select>
                                </div>

                                <div class="form-group"><label>Status</label>
                                    <select class="select2_demo_3 form-control" style="width: 260px;" name="status">
                                        <option value="Student">Student</option>
                                        <option value="Employee">Employee</option>
                                    </select>
                                </div>

                                <div class="data_3 form-group">
                                    <label>Member Since</label>
                                    <div class="input-group date">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span><input name="member_since" type="text" class="form-control" value="{{.Data.Today}}">
                                    </div>
                                </div>

                                <div class="data_3 form-group">
                                    <label>Date of Birth</label>
                                    <div class="input-group date">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span><input name="dob" type="text" class="form-control" value="01/01/2000">
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-4">
                                <div class="form-group"><label>NIC</label> <input name="nic" type="text" placeholder="Enter NIC number" class="form-control" data-mask="999999999V"></div>

                                <div class="form-group"><label>Phone</label> <input name="tel" type="text" placeholder="Enter phone number" class="form-control" data-mask="9999999999" required></div>

                                <div class="form-group"><label>Email</label> <input name="email" type="email" placeholder="Enter email" class="form-control" required></div>

                                <div class="form-group"><label>Address</label> <input name="adrs" type="text" placeholder="Enter address" class="form-control" required></div>

                                <div class="form-group"><label>Password</label> <input name="pass" type="text" placeholder="Enter default password" class="form-control" required value="member123"></div>
                                <div class="form-group"><label> <input type="checkbox" value="Active" checked="" name="act"> <i></i>Active User</label></div>
                                <div>
                                    <button class="btn btn-sm btn-primary pull-right m-t-n-xs" type="submit"><strong>Save</strong></button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {{$MemberTypes := .Data.MemberTypes}}
    {{range .Data.Members}}
    <div id="editMember{{.Id}}" class="modal fade" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="row">
                        <form role="form" method="post" enctype="multipart/form-data" action="/updateMember.html" method="post">

                            <div class="col-sm-4 b-r">
                                <div class="form-group"><label>ID</label> <input readonly name="id" class="form-control" value="{{.Id}}"></div>


                                <label>Preview Image</label>
                                <input type='file' id="imgInpMem{{.Id}}"  accept="image/*" name="uploadfile" />
                                <br>
                                <img id="imgPrvMem{{.Id}}" src="{{.Image}}" style="width: 150px; height: 150px;"/>
                                <br>



                                <label>Note</label>
                                <br>
                                <textarea name="note" style="width: 250px; height: 80px;">{{.Note}}</textarea>

                            </div>

                            <div class="col-sm-4 b-r">

                                <div class="form-group"><label>Name</label> <input type="text" placeholder="Enter name" class="form-control" name="name" required value="{{.Name}}"></div>

                                <div class="form-group"><label>Position</label>
                                    {{$Type := .UserType_id}}
                                    <select class="select2_demo_3 form-control" style="width: 260px;" name="userType_id">
                                        {{range $MemberTypes}}
                                        <option value="{{.Id}}" {{if eq .Id $Type}}selected{{end}} >{{.Typ}}</option>
                                        {{end}}
                                    </select>
                                </div>

                                <div class="form-group"><label>Status</label>
                                    <select class="select2_demo_3 form-control" style="width: 260px;" name="status">
                                        <option value="Student" {{if eq .Status "Student"}}selected{{end}}>Student</option>
                                        <option value="Employee" {{if eq .Status "Employee"}}selected{{end}}>Employee</option>
                                    </select>
                                </div>

                                <div class="data_3 form-group">
                                    <label>Member Since</label>
                                    <div class="input-group date">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span><input name="member_since" type="text" class="form-control" value="{{.Member_since}}">
                                    </div>
                                </div>

                                <div class="data_3 form-group">
                                    <label>Date of Birth</label>
                                    <div class="input-group date">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span><input name="dob" type="text" class="form-control"  value="{{.Dob}}">
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-4">
                                <div class="form-group"><label>NIC</label> <input name="nic" type="text" placeholder="Enter NIC number" class="form-control" data-mask="999999999V" value="{{.Nic}}"></div>

                                <div class="form-group"><label>Phone</label> <input name="tel" type="text" placeholder="Enter phone number" class="form-control" data-mask="9999999999" required value="{{.Tel}}"></div>

                                <div class="form-group"><label>Email</label> <input name="email" type="email" placeholder="Enter email" class="form-control" required value="{{.Email}}"></div>

                                <div class="form-group"><label>Address</label> <input name="adrs" type="text" placeholder="Enter address" class="form-control" required value="{{.Adrs}}"></div>

                                <div class="form-group"><label>Reset Password</label> <input name="pass" type="text" placeholder="Enter new password" class="form-control" value=""></div>
                                <div class="form-group"><label> <input type="checkbox" value="Active"  {{if .Act}} checked="" {{end}}  name="act"> <i></i>Active User</label></div>
                                <div>
                                    <button name="action" class="btn btn-sm btn-primary pull-right m-t-n-xs" type="submit" value="save"><strong>Update</strong></button>
                                    {{if .Dlt}}
                                    <button name="action" class="btn btn-sm btn-danger m-t-n-xs" type="submit" value="delete"><strong>Delete</strong></button>
                                    {{end}}
                                </div>
                            </div>


                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {{end}}
</div>


<!-- Mainly scripts -->
<script src="js/jquery-2.1.1.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

<!-- Custom and plugin javascript -->
<script src="js/inspinia.js"></script>
<script src="js/plugins/pace/pace.min.js"></script>

<!-- Sparkline -->
<script src="js/plugins/sparkline/jquery.sparkline.min.js"></script>

<!-- Select2 -->
<script src="js/plugins/select2/select2.full.min.js"></script>

<!-- Data picker -->
<script src="js/plugins/datapicker/bootstrap-datepicker.js"></script>

<!-- Input Mask-->
<script src="js/plugins/jasny/jasny-bootstrap.min.js"></script>

<!-- Data Tables -->
<script src="js/plugins/dataTables/jquery.dataTables.js"></script>
<script src="js/plugins/dataTables/dataTables.bootstrap.js"></script>
<script src="js/plugins/dataTables/dataTables.responsive.js"></script>
<script src="js/plugins/dataTables/dataTables.tableTools.min.js"></script>

<script>
    document.getElementById("members").setAttribute("class", "active");
</script>

<script>
    $(document).ready(function () {
             /* Init DataTables */
            var oTable = $('#editable').DataTable( {
                "columnDefs": [{
                    "searchable": false,
                    "orderable": false,
                    "targets": 0
                } ],
                "order": [[ 1, 'asc' ]],
                "aLengthMenu": [[25, 50, 75, 100, 200, 1000, -1], [25, 50, 75, 100, 200, 1000, "All"]],
                "iDisplayLength": 25
            } );

            $(".select2_demo_3").select2({
                dropdownCssClass: 'custom-dropdown'
            });

            $(".select2_demo_3").on('select2:open', function(e){
                $('.custom-dropdown').parent().css('z-index', 99999);
            });

            $('.data_3 .input-group.date').datepicker({
                startView: 2,
                todayBtn: "linked",
                keyboardNavigation: false,
                forceParse: false,
                autoclose: true
            });


        function readURL(input, prv) {

          if (input.files && input.files[0]) {
                var reader = new FileReader();

            reader.onload = function(e) {
              $(prv).attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);
          }
        }

        $("#imgInpNewMem").change(function() {
          readURL(this,'#imgPrvNewMem');
        });

        {{range .Data.Members}}
            $("#imgInpMem{{.Id}}").change(function() {
                readURL(this,'#imgPrvMem{{.Id}}');
            });
        {{end}}


        var sparklineCharts = function () {

        {{range .Data.Members}}
            $("#pi{{.Id}}").sparkline([50, {{.Age}}], {
                type: 'pie',
                height: '140',
                sliceColors: ['#1ab394', '#ed5565']
            });
        {{end}}
        };
        var sparkResize;

        $(window).resize(function (e) {
            clearTimeout(sparkResize);
            sparkResize = setTimeout(sparklineCharts, 500);
        });

        sparklineCharts();




    });
</script>
{{ template "scripts" }}
</body>

<!-- Mirrored from webapplayers.com/inspinia_admin-v2.3/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 19 Oct 2015 10:48:29 GMT -->
</html>
