<!DOCTYPE html>
<html>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>FEC BANK</title>

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="font-awesome/css/font-awesome.css" rel="stylesheet">

<!-- Toastr style -->
<link href="css/plugins/toastr/toastr.min.css" rel="stylesheet">

<!-- Gritter -->
<link href="js/plugins/gritter/jquery.gritter.css" rel="stylesheet">

<link href="css/animate.css" rel="stylesheet">
<link href="css/style.css" rel="stylesheet">

<!-- select menue -->
<link href="css/plugins/select2/select2.min.css" rel="stylesheet">

<link href="css/plugins/datapicker/datepicker3.css" rel="stylesheet">


<body {{if .UserData.NavColaps}} class='mini-navbar' {{end}}>

<div id="wrapper">
    {{ template "navbar_left" .UserData}}

    <div id="page-wrapper" class="gray-bg dashbard-1">
        {{ template "navbar_top" }}

        <div class="row wrapper border-bottom white-bg page-heading">
            <div class="col-sm-10">
                <h2>Deposit Ledger</h2>
                <ol class="breadcrumb">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li class="active">
                        <strong>Deposit Ledger</strong>
                    </li>
                </ol>
            </div>
            <div class="col-sm-2 align-middle">
                <br><br>
                <a data-toggle="modal" href="#newDeposit" class="btn-primary btn"><i class="fa fa-plus"></i> New Deposit</a>
            </div>
        </div>

        <div class="wrapper wrapper-content  animated fadeInRight">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox float-e-margins">
                        <div class="ibox-content">
                            <table class="table table-striped table-bordered table-hover " id="editable" >
                                <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Receipt No.</th>
                                    <th>Customer Code</th>
                                    <th>Customer Name</th>
                                    <th>FEC Member</th>
                                    <th>Amount</th>
                                    <th>Interest Rate</th>
                                    <th>Current Interst</th>
                                    <th>Total Amount</th>
                                    <th>Updated By</th>
                                    <th>Action</th>
                                </tr>
                                </thead>
                                <tbody>

                                {{range .Data.Deposits}}
                                <tr class="gradeX">
                                    <td>{{.Dte}}</td>
                                    <td>{{.Id}}</td>
                                    <td>{{.User_id}}</td>
                                    <td>{{.User}}</td>
                                    <td>{{.FEC}}</td>
                                    <td>{{.Amount}}</td>
                                    <td>{{.Interest}}%</td>
                                    <td>{{.CurrentInterest}}</td>
                                    <td>{{.Total}}</td>
                                    <td>{{.Updated}}</td>
                                    <td><a data-toggle="modal" href="#editDeposit{{.Id}}" class="btn-warning btn btn-xs">Edit</a></td>
                                </tr>
                                {{end}}

                                </tbody>
                                <tfoot>
                                <tr>
                                    <th>Date</th>
                                    <th>Receipt No.</th>
                                    <th>Customer Code</th>
                                    <th>Customer Name</th>
                                    <th>FEC Member</th>
                                    <th>Amount</th>
                                    <th>Interest Rate</th>
                                    <th>Current Interst</th>
                                    <th>Total Amount</th>
                                    <th>Updated By</th>
                                    <th>Action</th>
                                </tr>
                                </tfoot>
                            </table>

                        </div>
                    </div>
                </div>
            </div>
        </div>


        {{ template "footer" }}

    </div>

    <div id="newDeposit" class="modal fade" aria-hidden="true">
        <div class="modal-dialog sm">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="row">
                        <form role="form" method="post" enctype="multipart/form-data" action="/newSavingsDeposit.html" method="post">

                            <div class="col-sm-6 b-r">
                                <div class="form-group"><label>Receipt No.</label> <input readonly name="id" class="form-control" value="{{.Data.NextId}}"></div>

                                <div class="data_3 form-group">
                                    <label>Date</label>
                                    <div class="input-group date">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span><input name="dte" type="text" class="form-control" value="{{.Data.Today}}">
                                    </div>
                                </div>

                                <div class="form-group"><label>Customer Name</label>
                                    <select class="select2_demo_3 form-control" style="width: 260px;" name="user_id">
                                        {{range .Data.AllMembers}}
                                        <option value="{{.Id}}">{{.Id}} {{.Name}}</option>
                                        {{end}}
                                    </select>
                                </div>

                                <div class="form-group"><label>FEC Member</label>
                                    <select class="select2_demo_3 form-control" style="width: 260px;" name="fec_id">
                                        {{range .Data.FECMembers}}
                                        <option value="{{.Id}}">{{.Id}} {{.Name}}</option>
                                        {{end}}
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group"><label>Amount</label>
                                    <div class="input-group">
                                        <span class="input-group-addon">Rs.</span>
                                        <input name="amount" type="number" placeholder="Enter Amount" value="0.00" min="0.00" class="form-control" step="0.01" required>
                                        <span class="input-group-addon">/=</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Interest Rate</label>
                                    <div class="input-group">
                                        <input required name="interest" type="number" placeholder="Enter Interest Rate" class="form-control" min="0.00" max="100.00" step="0.01">
                                        <span class="input-group-addon">%</span>
                                    </div>
                                </div>
                                <div class="form-group"><label>Updated By</label>
                                    <select class="select2_demo_3 form-control" style="width: 260px;" name="updated_id">
                                        {{range .Data.FECMembers}}
                                        <option value="{{.Id}}">{{.Id}} {{.Name}}</option>
                                        {{end}}
                                    </select>
                                </div>
                                <br><br>
                                <div>
                                    <button class="btn btn-sm btn-primary pull-right m-t-n-xs" type="submit"><strong>Save</strong></button>
                                </div>

                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {{$AllMembers := .Data.AllMembers}}
    {{$FECMembers := .Data.FECMembers}}

    {{range .Data.Deposits}}
    <div id="editDeposit{{.Id}}" class="modal fade" aria-hidden="true">
        <div class="modal-dialog sm">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="row">
                        <form role="form" method="post" enctype="multipart/form-data" action="/updateSavingsDeposit.html" method="post">

                            <div class="col-sm-6 b-r">
                                <div class="form-group"><label>Receipt No.</label> <input readonly name="id" class="form-control" value="{{.Id}}"></div>

                                <div class="data_3 form-group">
                                    <label>Date</label>
                                    <div class="input-group date">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        <input name="dte" type="text" class="form-control" value="{{.Dte}}">
                                    </div>
                                </div>

                                <div class="form-group"><label>Customer Name</label>

                                    {{$User_id := .User_id}}
                                    <select class="select2_demo_3 form-control" style="width: 260px;" name="user_id">
                                        {{range $AllMembers}}
                                        <option value="{{.Id}}" {{if eq .Id $User_id}}selected{{end}}>{{.Id}} {{.Name}}</option>
                                        {{end}}
                                    </select>
                                </div>

                                <div class="form-group"><label>FEC Member</label>

                                    {{$FEC_id := .FEC_id}}
                                    <select class="select2_demo_3 form-control" style="width: 260px;" name="fec_id">
                                        {{range $FECMembers}}
                                        <option value="{{.Id}}" {{if eq .Id $FEC_id}}selected{{end}}>{{.Id}} {{.Name}}</option>
                                        {{end}}
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group"><label>Amount</label>
                                    <div class="input-group">
                                        <span class="input-group-addon">Rs.</span>
                                        <input value="{{.Amount}}" name="amount" type="number" placeholder="Enter Amount" min="0.00" class="form-control" step="0.01" required>
                                        <span class="input-group-addon">/=</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Interest Rate</label>
                                    <div class="input-group">
                                        <input required value="{{.Interest}}" name="interest" type="number" placeholder="Enter Interest Rate" class="form-control" step="0.01" min="0.00" max="100.00">
                                        <span class="input-group-addon">%</span>
                                    </div>
                                </div>
                                <div class="form-group"><label>Updated By</label>
                                    {{$Updated_id := .Updated_id}}
                                    <select class="select2_demo_3 form-control" style="width: 260px;" name="updated_id">
                                        {{range $FECMembers}}
                                        <option value="{{.Id}}" {{if eq .Id $Updated_id}}selected{{end}}>{{.Id}} {{.Name}}</option>
                                        {{end}}
                                    </select>
                                </div>
                                <br><br>
                                <div>
                                    <button name="action" class="btn btn-sm btn-primary pull-right m-t-n-xs" type="submit" value="save"><strong>Update</strong></button>
                                    <button name="action" class="btn btn-sm btn-danger m-t-n-xs" type="submit" value="delete"><strong>Delete</strong></button>
                                </div>

                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {{end}}
</div>


<!-- Mainly scripts -->
<script src="js/jquery-2.1.1.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

<!-- Custom and plugin javascript -->
<script src="js/inspinia.js"></script>
<script src="js/plugins/pace/pace.min.js"></script>

<!-- Sparkline -->
<script src="js/plugins/sparkline/jquery.sparkline.min.js"></script>

<!-- Select2 -->
<script src="js/plugins/select2/select2.full.min.js"></script>

<!-- Data picker -->
<script src="js/plugins/datapicker/bootstrap-datepicker.js"></script>

<!-- Input Mask-->
<script src="js/plugins/jasny/jasny-bootstrap.min.js"></script>

<!-- Data Tables -->
<script src="js/plugins/dataTables/jquery.dataTables.js"></script>
<script src="js/plugins/dataTables/dataTables.bootstrap.js"></script>
<script src="js/plugins/dataTables/dataTables.responsive.js"></script>
<script src="js/plugins/dataTables/dataTables.tableTools.min.js"></script>


<script>
    document.getElementById("savingsDiposits").setAttribute("class", "active");
</script>
<script>
        $(document).ready(function() {

            /* Init DataTables */
            var oTable = $('#editable').DataTable( {
                //"columnDefs": [{
                //    "searchable": false,
                //    "orderable": false,
                //    "targets": 0
               // } ],
                "order": [[ 0, 'asc' ]],
                "aLengthMenu": [[25, 50, 75, 100, 200, 1000, -1], [25, 50, 75, 100, 200, 1000, "All"]],
                "iDisplayLength": 100
            } );

            $(".select2_demo_3").select2({
                dropdownCssClass: 'custom-dropdown'
            });

            $(".select2_demo_3").on('select2:open', function(e){
                $('.custom-dropdown').parent().css('z-index', 99999);
            });

            $('.data_3 .input-group.date').datepicker({
                startView: 2,
                todayBtn: "linked",
                keyboardNavigation: false,
                forceParse: false,
                autoclose: true
            });
        });
    </script>
{{ template "scripts" }}
</body>

<!-- Mirrored from webapplayers.com/inspinia_admin-v2.3/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 19 Oct 2015 10:48:29 GMT -->
</html>
